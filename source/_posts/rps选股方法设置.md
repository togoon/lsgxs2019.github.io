---
title: rps选股方法设置
date: 2021-08-13 10:42:28
tags: stock
categories: stock
cover: /2021/08/13/rps选股方法设置/.png
---

#### rps选股思路

​      通过对指定板块的股票在指定时间的周期的涨跌幅计算排序，统计出哪些是近期的强势股或者强势板块。



#### rps在个股方面的应用

* **筛选出上市一年以上股票**。在A股市场，新股一盘都是一字涨停板往上跳，没有实际的统计意义。可以通过一个条件公式来过滤出上市一年以上的股票。

  * 新建【上市一年以上】板块。选择并打开通达信的【工具/自定义板块设置】菜单项，点击【新建板块】，输入[上市一年以上]确定即可。
  * 新建过滤上市一年以上股票的公式。选择并打开通达信的【功能/公式系统/公式管理器】菜单项，或者使用Control+F直接打开公式管理器。选择条件选股公式—其他类型，点击新建。公式内容如下：
   ```tiddlywiki
    BARSCOUNT(C)>N; N为参数，一般设为250
  
   ```
  * 选股到上市一年以上板块
    打开通达信的【功能/选股器/条件选股】，或者使用Control+T打开条件选股，条件选股公式的下拉菜单中，选中：上市一年以上，选股范围为：沪深A股，然后点：加入条件。
  
  ```html
   这个“上市一年以上“板块中的股票，需要手动更新，建议一个月更新一次即可
  ```
  
* **新建一个计算股票涨跌幅的技术指标**

  * 打开通达信[功能/公式系统/公式管理器]，或则使用Control+F直接打开公式管理，技术指标公式—其他类型，点击新建按钮，建立一个小公式，命名为EXTRS。公式内容如下：

    ```
    EXTRS:(C-REF(C,N))/REF(C,N);
    N缺省值为250
    ```
    
    其实这个涨跌幅的数据是rps的基础数据，所有的计算都是依据这个涨跌幅进行的。比如后面的各个时间周期的rps数值扩展和个股的rps数值。
  
* **建立扩展数据，对股票涨跌幅进行排序**

  打开通达信软件的【功能/公式系统/扩展数据管理器】，或者直接输入【.902】打开扩展数据管理器。具体操作方法如下：

  ```html
   - 选中第1条扩展数据
     - 点击上图中的修改，在扩展数据属性里首先设置数据1如下：
     - 技术指标公式选择新建的“EXTRS”指标
     - 计算参数为120（对应半年期的RPS）
     - 计算时段为本地所有数据
     - 计算品种为“自定义板块”下面的“上市一年以上”这个板块
     - 勾选“精确复权”及“生成横向排名数据”
     - 排名方法为“0-1000归一化顺序”
   - 选中第2条扩展数据
     - 点击上图中的修改，在扩展数据属性里首先设置数据1如下：
     - 技术指标公式选择新建的“EXTRS”指标
     - 计算参数为250（对应一年期的RPS）
     - 计算时段为本地所有数据
     - 计算品种为“自定义板块”下面的“上市一年以上”这个板块
     - 勾选“精确复权”及“生成横向排名数据”
     - 排名方法为“0-1000归一化顺序”
   - 可以再分别设置50、10、20、60周期的扩展数据，操作方法同上，只是时间周期不同。
  
  ```

  

* **建立rps幅图显示曲线**

  * 新建一个股价相对强度RPS技术指标。通达信软件，Control+F，技术指标公式—其他类型—新建。价相对强度RPS, 出两条彩线的代码如下：

    ```html
    X:=EXTDATA_USER(1,0);{120天的}
    RPS120:X/10,LINETHICK2,COLORGREEN;
    IF(RPS120>=M,RPS120,DRAWNULL),LINETHICK2,COLORRED;
    ;
    Y:=EXTDATA_USER(2,0);{250天的}
    RPS250:Y/10,LINETHICK2,COLORWHITE;
    IF(RPS250>=M,RPS250,DRAWNULL),LINETHICK2,COLORRED;
    ```

    M是参数，可以根据自己的偏好设为85-90，我个人偏好90。意思就是RPS大于90时，显示为红线。

* **下载财务数据**

  * 记得每天收盘后下载完整的财务数据

* **使用rps值进行条件选股**

  * 选出rps值大于90以上的股票


####  rps在板块方面的应用

